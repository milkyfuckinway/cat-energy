const slider=document.querySelector(".slider"),sliderToggler=document.querySelector(".slider__toggler"),sliderBefore=document.querySelector(".slider__before"),sliderAfter=document.querySelector(".slider__after"),addResizeListener=()=>{window.addEventListener("resize",onResize)},removeResizeListener=()=>{window.removeEventListener("resize",onResize)},addMoveListener=()=>{document.addEventListener("mousemove",onMove)},removeMoveListener=()=>{document.removeEventListener("mousemove",onMove)};function onMove(e){e.preventDefault(),document.addEventListener("mouseup",removeMoveListener),window.addEventListener("resize",onResize);const t=slider.offsetWidth,s=e.clientX-slider.offsetLeft;s>=0&&s<=t&&(sliderBefore.style.clipPath=`inset(0 ${t-s}px 0 0)`,sliderAfter.style.clipPath=`inset(0 0 0 ${s}px)`,sliderToggler.style.left=`${s}px`),s<0&&(sliderToggler.style.left="0px",sliderBefore.style.clipPath=`inset(0 ${t}px 0 0)`,sliderAfter.style.clipPath="inset(0 0 0 0px)"),s>t&&(sliderToggler.style.left=`${t}px`,sliderBefore.style.clipPath="inset(0 0px 0 0)",sliderAfter.style.clipPath=`inset(0 0 0 ${t}px)`)}function onResize(){sliderBefore.style.clipPath="inset(0 50% 0 0)",sliderAfter.style.clipPath="inset(0 0 0 50%)",sliderToggler.style.left="50%",window.removeEventListener("resize",onResize)}sliderToggler.addEventListener("mousedown",addMoveListener);